{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}tablesorter/css/theme.default.min.css">
<script type="text/javascript" src="{{STATIC_URL}}admin/js/vendor/jquery/jquery.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}tablesorter/js/jquery.tablesorter.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}tablesorter/js/jquery.tablesorter.widgets.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}admin.js"></script>
{% endblock %}

{% block content %}
    <div class="submit-row">
        <div style="text-align: left;">
            <a href="{%url 'admin:streams_stream_events' original.id %}"
            style="
                line-height: 15px;
                text-align: left;
                ">Back to stream</a>
        </div>
    </div>

    <div id="content-main">
        {% if errors %}{{ error }}{% endif %}
        <table id="events-table" class="tablesorter">
            <thead>
            <tr>
              <th>Ts</th>
              <th>Event</th>
              <th>Status</th>
              <th>Chunk Id</th>
              <th>Hash</th>
            </tr>
            </thead>
            <tbody>
        {% for event in events %}
            <tr>
              <td>{{ event.datetime|date:'Y-m-d H:i:s.sss' }}</td>
              <td>{{ event.event }}</td>
              <td>{% if event.transactionInfo.status %} Success {% else %} Failed {% endif %}</td>
              <td>{{ event.args.chunkId }}</td>
              <td>{{ event.hash }}</td>
            </tr>
        {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
